<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>JSY ANIME - P√°gina Inicial</title>
    <link rel="icon" href="jose.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="google-adsense-account" content="ca-pub-8906506021952813">
    <style>
        body {
            margin: 0;
            font-family: sans-serif;
            background: #111;
            color: #fff;
            font-size: clamp(14px, 2vw, 18px);
        }

        .menu {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #1a1a1a;
            padding: 10px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 20px;
            font-weight: bold;
            color: #ff4757;
        }

        .menu-links {
            display: flex;
            list-style: none;
            gap: 15px;
            margin: 0;
            padding: 0;
        }

        .menu-links a {
            color: #fff;
            text-decoration: none;
            font-size: 14px;
        }

        .menu-links a:hover {
            color: #1dd1a1;
        }

        .menu-toggle {
            display: none;
            font-size: 28px;
            color: #fff;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .menu-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 60px;
                right: 20px;
                background: #1a1a1a;
                padding: 10px;
                border-radius: 8px;
                box-shadow: 0 0 10px #000;
            }

            .menu-links.active {
                display: flex;
            }
        }

        .section {
            padding: 20px 5vw;
        }

        .section h2 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #00ffff;
            margin-bottom: 10px;
            font-size: clamp(16px, 3vw, 20px);
        }

        .section h2 a {
            color: #1dd1a1;
            text-decoration: underline;
            font-size: clamp(12px, 2vw, 16px);
        }

        .card {
            background: #222;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            flex-shrink: 0;
            transition: transform 0.2s;
        }

        .card:hover {
            transform: scale(1.03);
        }

        .card img {
            width: 100%;
            display: block;
            object-fit: cover;
            aspect-ratio: 16/9;
            transition: transform 0.3s ease;
        }

        .card:hover img {
            transform: scale(1.05);
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
        }

        .card-content {
            padding: 8px;
            font-size: clamp(12px, 2vw, 16px);
            text-align: center;
        }

        /* CALEND√ÅRIO */
        #calendario {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding-bottom: 10px;
        }

        #calendario::-webkit-scrollbar {
            display: none;
        }

        #calendario .card {
            width: clamp(180px, 40vw, 220px);
            flex: 0 0 auto;
        }

        /* Ajusta a imagem no calend√°rio para respeitar propor√ß√£o */
        #calendario .card img {
            aspect-ratio: auto;
            width: 100%;
            height: auto;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        /* LISTA DE ANIME */
        #lista-anime {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(clamp(180px, 40vw, 220px), 1fr));
            gap: 20px;
        }

        /* Ajusta a imagem na lista de anime para respeitar propor√ß√£o */
        #lista-anime .card img {
            aspect-ratio: auto;
            width: 100%;
            height: auto;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        /* LAN√áAMENTOS - permanece igual */
        #lancamentos {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(clamp(200px, 40vw, 280px), 1fr));
            gap: 20px;
        }

        #lancamentos .card img {
            aspect-ratio: 16/9;
            object-fit: cover;
        }

        @media (max-width: 600px) {

            #lancamentos,
            #lista-anime {
                grid-template-columns: repeat(2, 1fr);
            }
        }


        .footer {
            background-color: #111;
            color: #ccc;
            text-align: center;
            padding: 25px 15px;
            border-top: 2px solid #e60000;
            font-family: 'Arial', sans-serif;
        }

        .footer-apoiar {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .footer-apoiar span {
            color: #e6b800;
            display: block;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .botao-apoio {
            background-color: rgba(230, 184, 0, 0.6);
            color: white;
            font-weight: bold;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .botao-apoio:hover {
            background-color: #e6b800;
            box-shadow: 0 0 10px #e6b80060;
        }

        .footer-parcerias {
            margin: 20px 0;
            font-size: 1em;
        }

        .footer-parcerias h4 {
            color: #e6b800;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .footer-parcerias p {
            margin: 6px 0;
        }

        .footer-parcerias a {
            color: #ccc;
            text-decoration: none;
            margin: 0 5px;
            transition: color 0.3s ease;
        }

        .footer-parcerias a:hover {
            color: #e6b800;
        }

        .footer-parcerias .oficial {
            color: #00ff88;
        }

        .footer-parcerias .nao-oficial {
            color: #ff5555;
        }

        .footer-aviso {
            font-size: 0.9em;
            color: #aaa;
            margin: 15px 0;
        }

        .social-icons {
            margin: 20px 0 10px;
        }

        .social-icons a {
            color: #e6b800;
            font-size: 1.8em;
            margin: 0 10px;
            transition: transform 0.3s ease, color 0.3s ease;
        }

        .social-icons a:hover {
            color: white;
            transform: scale(1.2);
        }

        /* NOVO MENU DE LINKS */
        .footer-menu {
            margin: 10px 0 15px;
        }

        .footer-menu a {
            color: #e6b800;
            text-decoration: none;
            margin: 0 10px;
            font-weight: bold;
            font-size: 1em;
            transition: color 0.3s ease;
        }

        .footer-menu a:hover {
            color: white;
            text-decoration: underline;
        }

        .footer-versao {
            margin-top: 10px;
            font-size: 0.9em;
            color: #777;
        }
    </style>
</head>

<body>
    <!-- MENU -->
    <nav class="menu">
        <div class="logo">JSY ANIME</div>
        <div class="menu-toggle" id="menu-toggle">&#9776;</div>
        <ul class="menu-links" id="menu-links">
            <li><a href="https://j-s-an.github.io/anime/">In√≠cio</a></li>
            <li><a href="https://j-s-an.github.io/anime/Lan√ßamentos.html">Lan√ßamentos</a></li>
            <li><a href="https://j-s-an.github.io/anime/lista-anime.html">Lista de Anime</a></li>
            <li><a href="https://j-s-an.github.io/anime/Pedido-de-Anime.html">Pedido de Anime</a></li>
        </ul>
    </nav>

    <!-- CALEND√ÅRIO -->
    <div class="section">
        <h2>üìÖ Calend√°rio de Hoje <a href="calendario.html">Ver Todos</a></h2>
        <div id="calendario"></div>
    </div>

    <!-- LAN√áAMENTOS -->
    <div class="section">
        <h2>üåÄ Lan√ßamentos <a href="Lan√ßamentos.html">Ver Todos</a></h2>
        <div id="lancamentos"></div>
    </div>

    <!-- LISTA DE ANIME -->
    <div class="section">
        <h2>üìö √öltimos Adicionados <a href="lista-anime.html">Ver Todos</a></h2>
        <div id="lista-anime"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script>
        // Toggle menu mobile
        document.getElementById("menu-toggle").onclick = () =>
            document.getElementById("menu-links").classList.toggle("active");

        // Fun√ß√£o para criar card
        function criarCard({ img, titulo, link }) {
            const a = document.createElement("a");
            a.href = link;
            a.className = "card";
            a.innerHTML = `<img src="${img}" alt="${titulo}"><div class="card-content">${titulo}</div>`;
            return a;
        }

        // CALEND√ÅRIO (carrossel com dia atual)
        // CALEND√ÅRIO (carrossel com dia atual)
        (function () {
            const el = document.getElementById("calendario");
            const dias = ["Domingo", "Segunda", "Ter√ßa", "Quarta", "Quinta", "Sexta", "S√°bado"];
            const hoje = dias[new Date().getDay()];
            const url = "https://docs.google.com/spreadsheets/d/1QPSqwuXb-2De4SvQ3WuJVbQbWMtPsv3SxjTeGtpuTVo/gviz/tq?tqx=out:json&sheet=calendario";

            fetch(url)
                .then(r => r.text())
                .then(txt => {
                    const json = JSON.parse(txt.substr(47).slice(0, -2));
                    const rows = json.table.rows;
                    const hojeAnimes = rows.filter(r => r.c[0]?.v === hoje);

                    if (hojeAnimes.length === 0) {
                        const msg = document.createElement("div");
                        msg.textContent = "Nenhum anime Hoje.";
                        msg.style.padding = "10px";
                        msg.style.color = "#ccc";
                        el.appendChild(msg);
                        return;
                    }

                    hojeAnimes.forEach(r => {
                        const img = r.c[2]?.v;
                        const nome = r.c[1]?.v;
                        const link = r.c[3]?.v;
                        el.appendChild(criarCard({ img, titulo: nome, link }));
                    });

                    // Carrossel autom√°tico
                    let pos = 0;
                    let direcao = 1; // 1 = direita, -1 = esquerda

                    setInterval(() => {
                        // Altere a posi√ß√£o de scroll suavemente
                        pos += direcao * 1; // velocidade

                        // Inverte a dire√ß√£o quando chega no fim ou in√≠cio
                        if (pos >= el.scrollWidth - el.clientWidth) {
                            direcao = -1;
                            pos = el.scrollWidth - el.clientWidth;
                        } else if (pos <= 0) {
                            direcao = 1;
                            pos = 0;
                        }

                        el.scrollLeft = pos;
                    }, 30); // velocidade geral

                });
        })();


        // LAN√áAMENTOS (√∫ltimos 20)
        (function () {
            const el = document.getElementById("lancamentos");
            const url = "https://docs.google.com/spreadsheets/d/1QPSqwuXb-2De4SvQ3WuJVbQbWMtPsv3SxjTeGtpuTVo/gviz/tq?tqx=out:json&sheet=lancamento";

            fetch(url)
                .then(r => r.text())
                .then(txt => {
                    const json = JSON.parse(txt.substr(47).slice(0, -2));
                    const rows = json.table.rows.reverse().slice(0, 20);

                    rows.forEach(row => {
                        const img = row.c[0]?.v || "https://via.placeholder.com/300x160?text=Sem+Imagem";
                        const nome = row.c[1]?.v || "Sem Nome";
                        const ep = row.c[2]?.v ?? ""; // pode ser n√∫mero, "Filme" ou vazio
                        const idioma = row.c[3]?.v || "";
                        const link = row.c[4]?.v || "#";
                        const final = row.c[5]?.v === "Final" ? " Final" : "";

                        // üîπ Tratamento especial para Filme
                        let titulo = "";
                        const epStr = String(ep).trim();
                        if (epStr !== "" && epStr.toLowerCase() === "filme") {
                            titulo = `${nome} - Filme ${idioma}`;
                        } else if (epStr === "") {
                            titulo = `${nome}${final} - ${idioma}`;
                        } else {
                            titulo = `${nome} - Epis√≥dio ${epStr}${final} - ${idioma}`;
                        }

                        el.appendChild(criarCard({ img, titulo, link }));
                    });
                })
                .catch(err => {
                    console.error("Erro ao carregar lan√ßamentos:", err);
                });
        })();



        // LISTA DE ANIMES (√∫ltimos 10)
        (function () {
            const el = document.getElementById("lista-anime");
            const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSioAlFGQbJ-9pSAM0oux7B6ppVzWjBmJU2meX0fK2f7pSIyhr3Ymw0yC5SXyqORNok9mr_oVw7hBhg/pub?gid=0&single=true&output=csv";

            fetch(url)
                .then(r => r.text())
                .then(csv => {
                    const data = Papa.parse(csv, { header: true }).data.reverse().slice(0, 10);
                    data.forEach(anime => {
                        el.appendChild(criarCard({ img: anime.capa, titulo: anime.nome, link: anime.link }));
                    });
                });
        })();
    </script>

    <br>
    <div id="frame" style="width: 100%;margin: auto;position: relative; z-index: 99998;">
        <iframe data-aa='2409970' src='//acceptable.a-ads.com/2409970/?size=Adaptive'
            style='border:0; padding:0; width:70%; height:auto; overflow:hidden;display: block;margin: auto'></iframe>
    </div>
    <br>

    <div>
        <!-- Exemplo de inclus√£o do rodap√© com JavaScript -->
        <script>
            fetch('footer.html')
                .then(response => response.text())
                .then(data => {
                    document.body.insertAdjacentHTML('beforeend', data);
                });
        </script>
    </div>

    <!-- ===== POPUP AVISO DE F√âRIAS ===== -->
    <style>
        .jsy-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            padding: 20px;
        }

        .jsy-modal-overlay.active {
            display: flex;
        }

        .jsy-modal {
            width: 90%;
            max-width: 600px;
            background: #1a1a1a;
            color: #fff;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #e6b800;
            text-align: center;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
        }

        .jsy-modal h3 {
            margin-top: 0;
            color: #e6b800;
        }

        .jsy-modal p {
            color: #ddd;
            margin: 10px 0 20px;
        }

        .jsy-btn {
            background: #e6b800;
            color: #111;
            border: none;
            padding: 10px 18px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }

        .jsy-btn:hover {
            background: #ffcc00;
        }

        .jsy-btn.secondary {
            background: transparent;
            color: #fff;
            border: 1px solid #e6b800;
        }
    </style>

    <div id="jsyModalOverlay" class="jsy-modal-overlay">
        <div class="jsy-modal">
        <h3>Aviso de Hor√°rio de Lan√ßamentos</h3>
        <p>Hoje N√£o Haver√° Lan√ßamentos no Per√≠odo da Manh√£ e da Tarde <br> O ADM Est√° na Praia. Lan√ßamentos Ser√£o Feitos √† Noite. <br>Agradecemos Pela Compreens√£o!</p>
            <div>
                <button class="jsy-btn secondary" id="jsyCloseBtn">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        (function () {
            const DIA_AVISO = 0; // altere o dia (0=Dom, 1=Seg, ..., 6=S√°b)
            const overlay = document.getElementById('jsyModalOverlay');
            const closeBtn = document.getElementById('jsyCloseBtn');
            const dontShowBtn = document.getElementById('jsyDontShowBtn');

            function getWeekId(d) {
                const date = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                date.setUTCDate(date.getUTCDate() + 4 - (date.getUTCDay() || 7));
                const yearStart = new Date(Date.UTC(date.getUTCFullYear(), 0, 1));
                const weekNo = Math.ceil((((date - yearStart) / 86400000) + 1) / 7);
                return `${date.getUTCFullYear()}-W${weekNo}`;
            }

            const hoje = new Date();
            const hojeDia = hoje.getDay();
            const semanaId = getWeekId(hoje);
            const key = 'jsy_aviso_week';
            const suprimido = localStorage.getItem(key);

            // Mostra apenas no dia definido e se ainda n√£o foi suprimido
            if (hojeDia === DIA_AVISO && suprimido !== semanaId) {
                setTimeout(() => overlay.classList.add('active'), 500);
            }

            closeBtn.onclick = () => overlay.classList.remove('active');
            dontShowBtn.onclick = () => {
                localStorage.setItem(key, semanaId);
                overlay.classList.remove('active');
            };

            // Fechar com ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') overlay.classList.remove('active');
            });
        })();
    </script>
    <!-- ===== FIM DO POPUP ===== -->


</body>

</html>